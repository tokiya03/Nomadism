<div class="container">
  <div class="row my-4">
    <div class="col">
      <div class="row">
        <div class="col">
          <h3>みんなの投稿一覧</h3>
        </div>
        <% unless @user.guest_user? %>
          <div class="col text-right">
            <%= link_to '新しく投稿する', new_post_path, class: "btn btn-info" %>
          </div>
        <% end %>
      </div>

      <div class="row mt-4">
        <div class="col-7 border">
          <div>GoogleMap</div>
        </div>

        <div class="col ml-2 overflow-auto" style="height: 600px;">
          <% @posts.each do |post| %>
            <%= link_to post_path(post.id), class: "text-dark text-decoration-none" do %>
              <div class="row mb-2">
                <div class="col border py-1">
                  <div class="row">
                    <div class="col-3 pr-0">スポット名：</div>
                    <div class="col pl-0"><%= post.name %></div>
                  </div>
                  <div class="row">
                    <div class="col-3 pr-0">場所の説明：</div>
                    <div class="col pl-0"><%= post.caption.truncate(22) %></div>
                  </div>
                  <div class="row">
                    <div class="col-3 pr-0">住　所　　：</div>
                    <div class="col pl-0"><%= post.address %></div>
                  </div>
                  <div class="row">
                    <div class="col-3 pr-0">コメント数：</div>
                    <div class="col pl-0"><%= number_with_delimiter(post.comments.count) %></div>
                  </div>
                  <div class="row">
                    <div class="col d-flex justify-content-end">
                      <%= link_to user_path(post.user_id), class: "text-dark text-decoration-none" do %>
                        <%= image_tag post.user.get_profile_image(30, 30), class: "rounded-circle" %> <%= post.user.name %>
                      <% end %>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row my-4">
    <div class="col-3">
      <% if @user.image.attached? %>
        <%= image_tag @user.image, size: "150x150", class: "rounded-circle mx-auto d-block" %>
      <% else %>
        <%= image_tag 'no_image.jpg', size: "150x150", class: "rounded-circle mx-auto d-block" %>
      <% end %>

      <table class="table">
        <tr>
          <th>ユーザー名</th>
          <td><%= @user.name %></td>
        </tr>
        <tr>
          <th>投稿数</th>
          <td><%= @user.posts.count %></td>
        </tr>
        <tr>
          <th>登録日</th>
          <td><%= @user.created_at.strftime('%Y/%m/%d') %></td>
        </tr>
      </table>
    </div>

    <div class="col-9">
      <h3><%= @user.name %>さんの投稿一覧</h3>

      <table class="table">
        <tr>
          <th>投稿者</th>
          <th>店名</th>
          <th>説明</th>
          <th>住所</th>
          <th>コメント数</th>
        </tr>
        <% @posts.each do |post| %>
        <tr>
          <td>
            <% if post.user.image.attached? %>
              <%= image_tag post.user.image, size: "80x80" %><br /><%= post.user.name %>
            <% else %>
              <%= image_tag 'no_image.jpg', size: "80x80" %><br /><%= post.user.name %>
            <% end %>
          </td>
          <td><%= post.name %></td>
          <td><%= post.caption %></td>
          <td><%= post.address %></td>
          <td><%= post.comments.count %></td>
        </tr>
        <% end %>
      </table>
    </div>
  </div>
</div>